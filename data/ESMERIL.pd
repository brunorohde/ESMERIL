#N canvas 183 244 1205 631 10;
#X obj 661 259 loadbang;
#X msg 1053 59 \; pd dsp 1;
#N canvas 384 53 659 825 MASTER_PHASE 0;
#X obj 132 85 t b f;
#X obj 132 123 /;
#X msg 132 104 1000;
#X obj 132 66 * 4;
#X floatatom 132 142 5 0 0 0 - - -;
#X obj 132 401 phasor~;
#X obj 132 219 / 4;
#X obj 155 219 t b f;
#X text 188 401 GERADOR DE FASE PRINCIPAL;
#X text 244 200 NÚMERO DE COMPASSOS NO LOOP;
#X floatatom 132 238 5 0 0 0 - - -;
#X text 174 239 FREQUÊNCIA DE 1 LOOP (4 BARS PADRÂO);
#X text 172 143 FREQUÊNCIA DE 1 COMPASSO (4 BEATS PADRÂO), f 24
;
#X obj 132 372 f;
#X msg 171 382 0;
#X obj 30 335 sel 0 1;
#X msg 98 384 0;
#X obj 30 285 tgl 30 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 30 316 t f f;
#X obj 132 28 r \$0-beatMs;
#X obj 147 47 r \$0-beats/bar;
#X obj 155 200 r \$0-loopBars;
#X obj 208 525 wrap~;
#X obj 185 525 -~;
#X obj 185 544 samphold~;
#X obj 185 506 *~ 1;
#X obj 185 582 snapshot~;
#X obj 209 563 bang~;
#X obj 217 449 r \$0-beats/bar;
#X obj 206 430 r \$0-loopBars;
#X obj 217 468 t b f;
#X obj 206 487 * 1;
#X floatatom 185 601 5 0 0 0 - - -;
#X text 217 506 TOTAL DE BATIMENTOS (BEATS) NO LOOP;
#X text 222 601 BEAT ATUAL;
#X obj 212 657 s \$0-currentBeat;
#X obj 132 322 t f f;
#X obj 132 341 spigot;
#X text 176 341 SÓ ATUALIZA DIRETO COM REPRODUÇÃO LIGADA;
#X obj 132 303 * 1;
#X obj 171 285 t b f;
#X text 214 285 MULTIPLICADOR DA VELOCIDADE PADRÃO;
#X obj 185 638 t b f;
#X text 320 657 ENVIA BEAT ATUAL PARA SEQUENCIADOR MASTER;
#X obj 185 619 change -1;
#X text 227 686 ENVIA BANG PARA SISTEMA DE QUANTIZAÇÃO DOS PARÂMETROS
NAS PISTAS DE ÁUDIO E GUI, f 40;
#X obj 302 28 inlet BPM_SLIDE;
#X obj 132 780 outlet~ MASTER_PHASE;
#X obj 30 28 inlet ON/OFF;
#X obj 185 745 s \$0-beatBang;
#X obj 185 686 t b b;
#X obj 278 745 s \$1-trackBus_set;
#X msg 278 726 beatBang;
#X msg 303 603 set -1;
#X obj 30 354 t b b;
#X obj 65 354 t b b;
#X connect 0 0 2 0;
#X connect 0 1 1 1;
#X connect 1 0 4 0;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 4 0 6 0;
#X connect 5 0 25 0;
#X connect 5 0 47 0;
#X connect 6 0 10 0;
#X connect 7 0 6 0;
#X connect 7 1 6 1;
#X connect 10 0 39 0;
#X connect 13 0 5 0;
#X connect 14 0 5 1;
#X connect 15 0 54 0;
#X connect 15 1 55 0;
#X connect 16 0 5 0;
#X connect 17 0 18 0;
#X connect 18 0 15 0;
#X connect 18 1 37 1;
#X connect 19 0 3 0;
#X connect 20 0 3 1;
#X connect 21 0 7 0;
#X connect 22 0 23 1;
#X connect 22 0 24 1;
#X connect 23 0 24 0;
#X connect 24 0 26 0;
#X connect 25 0 22 0;
#X connect 25 0 23 0;
#X connect 26 0 32 0;
#X connect 27 0 26 0;
#X connect 28 0 30 0;
#X connect 29 0 31 0;
#X connect 30 0 31 0;
#X connect 30 1 31 1;
#X connect 31 0 25 1;
#X connect 32 0 44 0;
#X connect 36 0 37 0;
#X connect 36 1 13 1;
#X connect 37 0 13 0;
#X connect 39 0 36 0;
#X connect 40 0 39 0;
#X connect 40 1 39 1;
#X connect 42 0 50 0;
#X connect 42 1 35 0;
#X connect 44 0 42 0;
#X connect 46 0 40 0;
#X connect 48 0 17 0;
#X connect 50 0 49 0;
#X connect 50 1 52 0;
#X connect 52 0 51 0;
#X connect 53 0 44 0;
#X connect 54 0 53 0;
#X connect 54 1 16 0;
#X connect 55 0 13 0;
#X connect 55 1 14 0;
#X restore 45 122 pd MASTER_PHASE;
#X obj 45 91 tgl 30 0 empty empty empty 17 7 0 10 -262144 -1 -1 1 1
;
#X obj 577 596 dac~;
#N canvas 298 79 821 732 MASTER_SEQ 0;
#X msg 223 624 slot \$1 \, load;
#X obj 223 653 s \$0-TM-;
#X obj 223 672 s \$0-MM-;
#X obj 223 605 change -1;
#X obj 591 173 text define \$0-masterSeq;
#X obj 591 221 text define \$0-moments;
#X obj 591 154 text set \$0-masterSeq;
#X obj 408 189 text get \$0-masterSeq;
#X obj 408 208 list length;
#X obj 408 284 f;
#X obj 431 284 + 1;
#X msg 423 265 0;
#X msg 408 322 0;
#X obj 408 341 text get \$0-masterSeq 0 1;
#X obj 427 455 text set \$0-moments;
#X msg 408 170 0;
#X msg 591 202 clear;
#X obj 393 484 text size \$0-moments;
#X floatatom 393 503 5 0 0 0 - - -;
#X text 434 504 NÚMERO DE MOMENTOS;
#X obj 65 160 t b b;
#X obj 65 253 spigot 1;
#X obj 188 234 == 0;
#X msg 191 196 1;
#X msg 161 196 0;
#X obj 161 215 t f f;
#X obj 155 253 spigot;
#X obj 378 141 t b b b b b b;
#X obj 155 301 f;
#X obj 178 301 + 1;
#X msg 170 282 0;
#X obj 211 285 r \$0-beats/bar;
#X obj 65 346 f;
#X obj 88 346 + 1;
#X msg 80 327 0;
#X floatatom 25 391 5 0 0 0 - - -;
#X obj 65 404 text get \$0-moments;
#X obj 65 453 route float list;
#X obj 223 520 f;
#X obj 166 491 unpack s f;
#X text 106 376 MOMENTO ATUAL;
#X obj 65 93 r \$0-beatBang;
#X obj 152 157 t b b b;
#X floatatom 223 539 5 0 0 0 - - -;
#X obj 211 304 - 1;
#X obj 121 472 t b a;
#X obj 65 491 del 0;
#X obj 65 472 t b f;
#X obj 65 510 t b b;
#X obj 121 491 del 0;
#X obj 155 320 sel 3;
#X obj 65 141 spigot;
#X msg 98 122 1;
#X msg 129 122 0;
#X obj 176 423 sel 2;
#X text 218 423 FIM DA CENA;
#X text 118 346 CONTADOR DOS MOMENTOS;
#X text 242 304 CONTADOR DE BAR;
#X text 204 253 SELECIONA BEAT OU BAR;
#X text 264 539 MEMÓRIA ATUAL;
#X text 207 157 RESETA SISTEMA;
#X text 191 404 LÊ TABELA DE MOMENTOS;
#X text 475 296 CONVERTE LISTA DA CENA NA TABELA DE MOMENTOS, f 22
;
#X obj 176 442 del 0;
#X obj 408 360 route float symbol;
#X obj 408 227 t f f;
#X obj 408 246 until;
#X obj 464 436 f;
#X obj 487 436 + 1;
#X msg 479 417 0;
#X obj 427 398 list prepend;
#X obj 408 379 t b a b;
#X obj 408 303 t b f;
#X text 156 93 BANG QUANTIZADO NO BEAT;
#X obj 564 106 r \$0-masterSeqOpen;
#X obj 564 125 t b a;
#X text 685 106 RECEBE SEQUÊNCIA DO ARQUIVO META, f 16;
#X obj 98 25 r \$1-headerBus;
#X obj 98 44 route scenePlay moment;
#X text 195 25 RECEBE CONTROLES DA INTERFACE;
#X obj 514 586 list prepend moment;
#X obj 514 605 list trim;
#X obj 514 624 s \$1-headerBus_set;
#X text 512 648 ENVIA CONTROLES PARA INTERFACE;
#X obj 514 567 list prepend scenePlay;
#X obj 65 375 t f f;
#X obj 176 461 t b b b;
#X msg 514 548 0;
#X msg 544 548 1;
#X obj 517 25 r \$0-done;
#X obj 517 94 t b b;
#X text 584 25 BANG QUANDO TERMINA DE CARREGAR A CENA, f 19;
#X obj 237 567 r \$0-changeReset;
#X msg 237 586 set -1;
#X connect 0 0 1 0;
#X connect 0 0 2 0;
#X connect 3 0 0 0;
#X connect 7 0 8 0;
#X connect 8 0 65 0;
#X connect 9 0 10 0;
#X connect 9 0 72 0;
#X connect 10 0 9 1;
#X connect 11 0 9 1;
#X connect 12 0 13 0;
#X connect 13 0 64 0;
#X connect 15 0 7 0;
#X connect 16 0 5 0;
#X connect 17 0 18 0;
#X connect 20 0 21 0;
#X connect 20 1 26 0;
#X connect 21 0 32 0;
#X connect 22 0 26 1;
#X connect 23 0 25 0;
#X connect 24 0 25 0;
#X connect 25 0 21 1;
#X connect 25 1 22 0;
#X connect 26 0 28 0;
#X connect 27 0 42 0;
#X connect 27 1 17 0;
#X connect 27 2 15 0;
#X connect 27 3 11 0;
#X connect 27 4 69 0;
#X connect 27 5 16 0;
#X connect 28 0 29 0;
#X connect 28 0 50 0;
#X connect 29 0 28 1;
#X connect 30 0 28 1;
#X connect 31 0 44 0;
#X connect 32 0 33 0;
#X connect 32 0 85 0;
#X connect 33 0 32 1;
#X connect 34 0 32 1;
#X connect 36 0 37 0;
#X connect 36 1 54 0;
#X connect 37 0 47 0;
#X connect 37 1 45 0;
#X connect 38 0 43 0;
#X connect 39 1 38 0;
#X connect 41 0 51 0;
#X connect 42 0 34 0;
#X connect 42 1 30 0;
#X connect 42 2 23 0;
#X connect 43 0 3 0;
#X connect 44 0 50 1;
#X connect 45 0 49 0;
#X connect 45 1 39 0;
#X connect 46 0 48 0;
#X connect 47 0 46 0;
#X connect 47 1 38 0;
#X connect 48 0 24 0;
#X connect 48 1 30 0;
#X connect 49 0 23 0;
#X connect 50 0 32 0;
#X connect 51 0 20 0;
#X connect 52 0 51 1;
#X connect 53 0 51 1;
#X connect 54 0 63 0;
#X connect 63 0 86 0;
#X connect 64 0 71 0;
#X connect 64 1 70 1;
#X connect 65 0 66 0;
#X connect 66 0 9 0;
#X connect 67 0 68 0;
#X connect 67 0 14 1;
#X connect 68 0 67 1;
#X connect 69 0 67 1;
#X connect 70 0 14 0;
#X connect 71 0 70 1;
#X connect 71 1 70 0;
#X connect 71 2 67 0;
#X connect 72 0 12 0;
#X connect 72 1 13 1;
#X connect 74 0 75 0;
#X connect 75 0 27 0;
#X connect 75 1 6 0;
#X connect 77 0 78 0;
#X connect 78 0 51 1;
#X connect 78 1 32 1;
#X connect 80 0 81 0;
#X connect 81 0 82 0;
#X connect 84 0 81 0;
#X connect 85 0 36 0;
#X connect 85 0 35 0;
#X connect 85 1 80 0;
#X connect 86 0 53 0;
#X connect 86 1 42 0;
#X connect 86 2 87 0;
#X connect 87 0 84 0;
#X connect 88 0 84 0;
#X connect 89 0 90 0;
#X connect 90 0 52 0;
#X connect 90 1 88 0;
#X connect 92 0 93 0;
#X connect 93 0 3 0;
#X restore 439 89 pd MASTER_SEQ;
#X obj 577 335 bit_mixbus~ \$0-M \$1;
#X obj 326 139 bit_track \$0 1 \$1;
#X obj 607 139 bit_track \$0 2 \$1;
#X obj 132 70 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 888 139 bit_track \$0 3 \$1;
#N canvas 2 53 680 418 MIXER 0;
#X obj 51 99 bit_mix1~ \$0-M 0 \$1;
#X obj 170 99 bit_mix1~ \$0-M 1 \$1;
#X obj 289 99 bit_mix1~ \$0-M 2 \$1;
#X obj 408 99 bit_mix1~ \$0-M 3 \$1;
#X obj 51 43 inlet~;
#X obj 170 43 inlet~;
#X obj 289 43 inlet~;
#X obj 408 43 inlet~;
#X obj 341 370 outlet~ DUMMY;
#X obj 444 370 outlet~ DUMMY;
#X obj 548 81 t a a a a;
#X obj 548 43 inlet ANALYSE;
#X connect 4 0 0 0;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X connect 7 0 3 0;
#X connect 10 0 0 1;
#X connect 10 1 1 1;
#X connect 10 2 2 1;
#X connect 10 3 3 1;
#X connect 11 0 10 0;
#X coords 0 -1 1 1 477 270 1 50 80;
#X restore 45 316 pd MIXER;
#X msg 661 278 0;
#X obj 1053 40 loadbang;
#X msg 661 297 analyse \$1;
#X msg 688 278 1;
#X obj 661 316 t a a;
#X obj 45 31 r \$0-masterPhase;
#N canvas 753 100 574 612 BPM_CONTROL 0;
#X obj 51 496 t f f;
#X obj 78 515 s \$0-bpmSlide;
#X obj 51 333 expr rint($f1);
#X obj 51 458 / 140;
#X text 81 477 ESCALA DENOVO PARA 0 - 2;
#X obj 51 410 t f f;
#X text 113 209 ORIGINAL PB_SPEED;
#X msg 86 209 0.5;
#X obj 86 122 inlet RESET;
#X text 93 295 ENVIA FEEDBACK PARA INTERFACE;
#X obj 54 269 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 6359 0;
#X obj 51 295 t f f;
#X text 94 410 ENVIA FEEDBACK PARA CAIXA DE NÚMEROS DO BPM NA INTERFACE
, f 28;
#X text 168 515 ENVIA FATOR PARA FX - DEL (FORA DE USO TEMPORARIAMENTE)
, f 29;
#X obj 51 554 outlet BPM_SLIDE;
#X obj 290 196 / 140;
#X text 153 151 BANG QUANDO TERMINA DE CARREGAR CENA, f 19;
#X text 401 158 RECEBE BPM ORIGINAL DO PROJETO, f 11;
#X obj 51 227 t a;
#X obj 290 215 / 2;
#X obj 290 72 f;
#X obj 290 129 change -1;
#X msg 304 110 set -1;
#X text 356 110 SISTEMA PARA RESETAR FILTROS DE REPETIÇÃO, f 20
;
#X obj 51 381 * 1;
#X obj 51 314 * 400;
#X text 108 362 QUANTIZA BPM ORIGINAL;
#X text 148 333 ARREDONDA 400 UNIDADES;
#X text 94 314 0 - 400;
#X obj 66 362 / 400;
#X obj 336 196 * 2;
#X obj 336 215 t f f;
#X msg 290 253 set \$1;
#X obj 290 234 t f f f;
#X obj 51 477 * 2;
#X obj 51 26 r \$1-headerBus;
#X obj 329 464 s \$1-headerBus_set;
#X obj 329 445 list trim;
#X obj 329 426 list prepend bpm;
#X obj 329 407 list prepend speed;
#X text 148 26 RECEBE CONTROLES DA INTERFACE;
#X text 327 488 ENVIA CONTROLES PARA INTERFACE;
#X obj 304 91 r \$0-changeReset;
#X obj 51 45 route speed resetSpeed bpm;
#X obj 86 151 r \$0-done;
#X obj 290 53 r \$0-beatBang;
#X text 381 53 BANG QUANTIZADO NO BEAT;
#X obj 86 190 r \$0-resetSpeed;
#X obj 329 388 list prepend rootBpm;
#X obj 317 158 r \$0-rootBpm;
#X obj 317 177 t f f f f;
#X connect 0 0 14 0;
#X connect 0 1 1 0;
#X connect 2 0 24 0;
#X connect 3 0 34 0;
#X connect 5 0 3 0;
#X connect 5 1 38 0;
#X connect 7 0 18 0;
#X connect 8 0 7 0;
#X connect 10 0 11 0;
#X connect 11 0 25 0;
#X connect 11 1 39 0;
#X connect 15 0 19 0;
#X connect 18 0 10 0;
#X connect 19 0 33 0;
#X connect 20 0 21 0;
#X connect 21 0 15 0;
#X connect 22 0 21 0;
#X connect 24 0 5 0;
#X connect 25 0 2 0;
#X connect 29 0 24 1;
#X connect 30 0 31 0;
#X connect 31 0 29 0;
#X connect 31 1 3 1;
#X connect 32 0 10 0;
#X connect 33 0 32 0;
#X connect 33 1 34 0;
#X connect 33 2 39 0;
#X connect 34 0 0 0;
#X connect 35 0 43 0;
#X connect 37 0 36 0;
#X connect 38 0 37 0;
#X connect 39 0 37 0;
#X connect 42 0 22 0;
#X connect 43 0 18 0;
#X connect 43 1 7 0;
#X connect 43 2 20 1;
#X connect 44 0 7 0;
#X connect 45 0 20 0;
#X connect 47 0 7 0;
#X connect 48 0 37 0;
#X connect 49 0 50 0;
#X connect 50 0 15 1;
#X connect 50 1 30 0;
#X connect 50 2 48 0;
#X connect 50 3 20 1;
#X coords 0 -1 1 1 135 35 1 50 250;
#X restore 132 86 pd BPM_CONTROL;
#X text 151 68 RESET BPM;
#X obj 45 139 bit_track \$0 0 \$1;
#N canvas 837 222 516 406 MEMO 0;
#X obj 57 93 bng 20 250 50 0 empty empty empty 17 7 0 10 -191407 -1
-1;
#X obj 97 98 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 743 393 449 294 TRACKS_MEMO 0;
#X obj 46 187 list;
#X msg 225 45 reset;
#X obj 46 45 inlet SAVE;
#X obj 73 93 t b b b;
#X obj 129 75 loadbang;
#X obj 46 74 t b b;
#X obj 282 187 list;
#X obj 46 235 outlet TO_LISTBOX;
#X obj 225 168 inlet FROM_LISTBOX;
#X obj 73 169 t l l;
#X obj 46 26 r \$0-dump_slot;
#N canvas 2 53 377 407 GLOBAL_MEMO 0;
#X obj 198 179 makefilename %s/%%s;
#X msg 198 198 set \$1;
#X obj 179 265 makefilename;
#X obj 198 160 symbol;
#X obj 179 246 symbol;
#X obj 231 141 r \$0-memoDir;
#X obj 231 122 s \$0-memoDir_load;
#X obj 47 312 symbol;
#X obj 179 104 t b b b;
#X obj 179 284 t s s;
#X obj 152 312 symbol;
#X msg 47 331 read \$1;
#X msg 152 331 write \$1;
#X obj 47 40 r \$0-globalRead;
#X obj 47 59 t b b;
#X obj 152 59 t b b;
#X obj 152 40 r \$0-globalWrite;
#X obj 47 360 outlet;
#X obj 212 227 r \$0-fsmFile;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 9 0;
#X connect 3 0 0 0;
#X connect 4 0 2 0;
#X connect 5 0 3 1;
#X connect 7 0 11 0;
#X connect 8 0 4 0;
#X connect 8 1 3 0;
#X connect 8 2 6 0;
#X connect 9 0 7 1;
#X connect 9 1 10 1;
#X connect 10 0 12 0;
#X connect 11 0 17 0;
#X connect 12 0 17 0;
#X connect 13 0 14 0;
#X connect 14 0 7 0;
#X connect 14 1 8 0;
#X connect 15 0 10 0;
#X connect 15 1 8 0;
#X connect 16 0 15 0;
#X connect 18 0 4 1;
#X restore 225 123 pd GLOBAL_MEMO;
#X text 223 100 CONTROLES DA MEMÓRIA GLOBAL;
#X obj 73 150 bit_listmaker;
#X obj 46 206 bit_memopack;
#X obj 225 206 bit_memounpack;
#X obj 92 112 s \$0-memo_flush;
#X obj 98 131 r \$0-memo_list;
#X obj 225 64 s \$0-global;
#X obj 225 26 inlet RESET;
#X text 272 45 RESETA TODAS AS TRACKS;
#X connect 0 0 14 0;
#X connect 1 0 18 0;
#X connect 2 0 5 0;
#X connect 3 0 13 0;
#X connect 3 1 16 0;
#X connect 3 2 13 2;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 5 1 3 0;
#X connect 6 0 15 1;
#X connect 8 0 15 0;
#X connect 9 0 0 1;
#X connect 9 1 6 0;
#X connect 10 0 5 0;
#X connect 11 0 7 0;
#X connect 13 0 9 0;
#X connect 14 0 7 0;
#X connect 17 0 13 1;
#X connect 19 0 1 0;
#X restore 57 114 pd TRACKS_MEMO;
#X obj 295 93 bng 20 250 50 0 empty empty empty 17 7 0 10 -191407 -1
-1;
#X obj 332 98 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 743 393 449 294 MIXER_MEMO 0;
#X obj 46 187 list;
#X msg 225 45 reset;
#X obj 46 45 inlet SAVE;
#X obj 73 93 t b b b;
#X obj 129 75 loadbang;
#X obj 46 74 t b b;
#X obj 282 187 list;
#X obj 46 235 outlet TO_LISTBOX;
#X obj 225 168 inlet FROM_LISTBOX;
#X obj 73 169 t l l;
#X obj 46 26 r \$0-dump_slot;
#N canvas 2 53 377 407 GLOBAL_MEMO 0;
#X obj 198 179 makefilename %s/%%s;
#X msg 198 198 set \$1;
#X obj 179 265 makefilename;
#X obj 198 160 symbol;
#X obj 179 246 symbol;
#X obj 231 141 r \$0-memoDir;
#X obj 231 122 s \$0-memoDir_load;
#X obj 47 312 symbol;
#X obj 179 104 t b b b;
#X obj 179 284 t s s;
#X obj 152 312 symbol;
#X msg 47 331 read \$1;
#X msg 152 331 write \$1;
#X obj 47 40 r \$0-globalRead;
#X obj 47 59 t b b;
#X obj 152 59 t b b;
#X obj 152 40 r \$0-globalWrite;
#X obj 47 360 outlet;
#X obj 212 227 r \$0-fsmFile;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 9 0;
#X connect 3 0 0 0;
#X connect 4 0 2 0;
#X connect 5 0 3 1;
#X connect 7 0 11 0;
#X connect 8 0 4 0;
#X connect 8 1 3 0;
#X connect 8 2 6 0;
#X connect 9 0 7 1;
#X connect 9 1 10 1;
#X connect 10 0 12 0;
#X connect 11 0 17 0;
#X connect 12 0 17 0;
#X connect 13 0 14 0;
#X connect 14 0 7 0;
#X connect 14 1 8 0;
#X connect 15 0 10 0;
#X connect 15 1 8 0;
#X connect 16 0 15 0;
#X connect 18 0 4 1;
#X restore 225 123 pd GLOBAL_MEMO;
#X text 223 100 CONTROLES DA MEMÓRIA GLOBAL;
#X obj 73 150 bit_listmaker;
#X obj 46 206 bit_memopack;
#X obj 225 206 bit_memounpack;
#X obj 225 26 inlet RESET;
#X obj 92 112 s \$0-M-memo_flush;
#X obj 98 131 r \$0-M-memo_list;
#X text 272 45 RESETA O MIXER;
#X obj 225 64 s \$0-M-global;
#X connect 0 0 14 0;
#X connect 1 0 20 0;
#X connect 2 0 5 0;
#X connect 3 0 13 0;
#X connect 3 1 17 0;
#X connect 3 2 13 2;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 5 1 3 0;
#X connect 6 0 15 1;
#X connect 8 0 15 0;
#X connect 9 0 0 1;
#X connect 9 1 6 0;
#X connect 10 0 5 0;
#X connect 11 0 7 0;
#X connect 13 0 9 0;
#X connect 14 0 7 0;
#X connect 16 0 1 0;
#X connect 18 0 13 1;
#X restore 295 114 pd MIXER_MEMO;
#X floatatom 190 54 5 0 0 0 - - -;
#X msg 190 72 slot \$1 \, load;
#X obj 190 91 t a a;
#X obj 57 35 inlet SAVE;
#X obj 190 35 inlet LOAD_SLOT;
#X obj 57 74 t b b;
#X obj 57 133 bit_listbox 1 1 0 1 \$0-TM;
#X obj 295 133 bit_listbox 1 1 0 1 \$0-MM;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X connect 2 0 12 0;
#X connect 3 0 5 0;
#X connect 4 0 5 1;
#X connect 5 0 13 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 12 0;
#X connect 8 1 13 0;
#X connect 9 0 11 0;
#X connect 10 0 6 0;
#X connect 11 0 0 0;
#X connect 11 1 3 0;
#X connect 12 0 2 2;
#X connect 13 0 5 2;
#X restore 439 60 pd MEMO;
#X obj 439 39 bng 20 250 50 0 empty empty empty 17 7 0 10 -258113 -1
-1;
#N canvas 95 53 1074 821 LOAD_SCENE 0;
#X obj 352 651 moses 32;
#X msg 397 670 32;
#X obj 68 141 t b b;
#X msg 95 160 0;
#X obj 68 178 f;
#X obj 91 178 + 1;
#X obj 47 163 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 161 232 symbol;
#X obj 68 293 soundfiler;
#X obj 68 350 /;
#X obj 68 369 int;
#X obj 47 521 spigot;
#X obj 87 455 array set \$0-barList;
#X obj 198 519 sel 0;
#X obj 101 503 t f f;
#X floatatom 366 621 5 0 0 0 - - -;
#X obj 904 36 array get \$0-barList;
#X obj 904 55 print;
#X obj 198 538 del 50;
#X obj 83 331 r \$0-barSamples;
#X obj 352 689 s \$0-loopBars;
#X text 924 18 DEBUG PRINT;
#X obj 68 216 div 8;
#X obj 103 216 mod 8;
#X obj 904 20 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 68 255 pack f f \$0 s s;
#X text 102 540 ATRASO DE SEGURANÇA, f 9;
#X obj 723 35 array define \$0-barList 32;
#X obj 101 484 < 31;
#X text 92 522 32 ÁUDIOS;
#X obj 68 312 + 100;
#X obj 106 718 s \$0-refreshTracks;
#X text 103 742 ATUALIZA PARÂMETROS NAS PISTAS QUANDO CARREGA NOVA
SESSÃO, f 19;
#X text 407 592 ANALISA DURAÇÃO EM COMPASSOS DOS ÁUDIOS E TOMA MENOR
MÚLTIPLO COMUM (LCM) COMO DURAÇÃO DO LOOP GLOBAL - ISSO FAZ A FASE
GLOBAL REINICIAR SEMPRE NUM MOMENTO QUE NÃO CORTA NENHUM ÁUDIO,
f 48;
#X obj 352 573 array get \$0-barList;
#X obj 352 592 bit_lcm;
#X text 220 455 ARMAZENA TAMANHO DOS ÁUDIOS EM COMPASSOS;
#X text 186 331 RECEBE TAMANHO DO COMPASSO EM SAMPLES;
#X text 413 651 MÁXIMO 32 COMPASSOS;
#X obj 86 624 s \$0-masterPhase;
#X msg 86 605 1;
#X obj 279 544 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 142 148 text define \$0-meta;
#X msg 142 129 read -c \$1/meta;
#X text 269 148 ARMAZENA METADADOS;
#X obj 68 93 symbol;
#X text 249 129 LÊ ARQUIVO DE METADADOS;
#X text 227 643 ENVIA SINAL DE CARREGADO PARA INTERFACE, f 14;
#X obj 581 166 text get \$0-meta;
#X msg 531 128 0;
#X obj 161 213 text get \$0-meta;
#X text 721 59 TABELA COM DURAÇÕES EM COMPASSOS DOS ÁUDIOS, f 22
;
#X text 615 54 ÁUDIOS;
#N canvas 116 106 705 249 AUDIO_TABLES 0;
#X obj 205 74 table \$0-audio_1_1 100;
#X obj 205 93 table \$0-audio_1_2 100;
#X obj 205 112 table \$0-audio_1_3 100;
#X obj 205 131 table \$0-audio_1_4 100;
#X obj 205 150 table \$0-audio_1_5 100;
#X obj 205 169 table \$0-audio_1_6 100;
#X text 291 18 ** BANCO DE ÁUDIOS;
#X obj 362 74 table \$0-audio_2_1 100;
#X obj 362 93 table \$0-audio_2_2 100;
#X obj 362 112 table \$0-audio_2_3 100;
#X obj 362 131 table \$0-audio_2_4 100;
#X obj 362 150 table \$0-audio_2_5 100;
#X obj 362 169 table \$0-audio_2_6 100;
#X obj 205 55 table \$0-audio_1_0 100;
#X obj 362 55 table \$0-audio_2_0 100;
#X obj 48 55 table \$0-audio_0_0 100;
#X obj 48 74 table \$0-audio_0_1 100;
#X obj 48 93 table \$0-audio_0_2 100;
#X obj 48 112 table \$0-audio_0_3 100;
#X obj 48 131 table \$0-audio_0_4 100;
#X obj 48 150 table \$0-audio_0_5 100;
#X obj 48 169 table \$0-audio_0_6 100;
#X obj 48 188 table \$0-audio_0_7 100;
#X obj 205 188 table \$0-audio_1_7 100;
#X obj 362 188 table \$0-audio_2_7 100;
#X obj 519 55 table \$0-audio_3_0 100;
#X obj 519 74 table \$0-audio_3_1 100;
#X obj 519 93 table \$0-audio_3_2 100;
#X obj 519 112 table \$0-audio_3_3 100;
#X obj 519 131 table \$0-audio_3_4 100;
#X obj 519 150 table \$0-audio_3_5 100;
#X obj 519 169 table \$0-audio_3_6 100;
#X obj 519 188 table \$0-audio_3_7 100;
#X restore 512 54 pd AUDIO_TABLES;
#X obj 581 185 unpack f f;
#X msg 581 251 60000;
#X obj 581 270 /;
#X floatatom 581 204 5 0 0 0 - - -;
#X obj 753 357 * 44.1;
#X obj 786 319 samplerate~;
#X obj 753 405 * 4;
#N canvas 549 357 377 287 BLOCKSIZE_MSEC 0;
#X obj 93 53 loadbang;
#X obj 93 88 samplerate~;
#X obj 93 107 / 1000;
#X msg 184 89 64;
#X text 212 90 BLOCK SIZE;
#X obj 93 126 pack f 64;
#X obj 93 145 swap;
#X obj 93 164 /;
#X floatatom 153 180 8 0 0 0 - - -;
#X text 207 181 MSEC / BLOCK;
#X text 39 19 ** CALCULA TEMPO EM MSEG DE 1 BLOCO DE ÁUDIO;
#X obj 184 108 t b f;
#X obj 93 213 s \$0-blockMs;
#X obj 93 232 s \$1-blockMs;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 7 0 8 0;
#X connect 7 0 12 0;
#X connect 7 0 13 0;
#X connect 11 0 5 0;
#X connect 11 1 5 1;
#X restore 787 290 pd BLOCKSIZE_MSEC;
#X floatatom 670 204 5 0 0 0 - - -;
#X obj 786 338 / 1000;
#X obj 768 386 r \$0-beats/bar;
#X obj 670 222 s \$0-beats/bar;
#X obj 753 424 s \$0-barSamples;
#X obj 600 318 s \$0-beatMs;
#X obj 581 289 t f f f;
#X obj 581 404 s \$0-FX-beatMs;
#X text 579 424 BEAT EM MS PARA MÓDULO DE EFEITOS - DELAY, f 22;
#X obj 596 347 r \$0-bpmSlide;
#X obj 581 385 * 1;
#X obj 596 366 t b f;
#X text 714 251 ENVIA LOCALMENTE BPM DO PROJETO;
#X obj 562 461 text delete \$0-meta;
#N canvas 395 193 263 175 AUDIO_TEST 0;
#X obj 35 117 tabwrite~ \$0-audio_0_0;
#X obj 35 79 osc~ 440;
#X obj 35 98 *~ 0.5;
#X msg 100 98 bang;
#X text 32 26 ** SOBREPÕE ÁUDIO DA TABELA 0_0 COM SINEWAVE PRA TESTE
, f 31;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X restore 512 25 pd AUDIO_TEST;
#X text 689 166 LÊ PRIMEIRA LINHA COM METADADOS DE BPM E DIV;
#X text 855 424 COMPASSO EM SAMPLES;
#X text 622 204 BPM;
#X text 710 204 DIVISÃO DO COMPASSO;
#X text 679 318 BEAT EM MS;
#X text 902 290 BLOCO EM MS;
#X text 270 213 OBTÉM NOMES DOS ÁUDIOS;
#X msg 68 274 read -resize -maxsize 5.292e+06 \$5/\$4 \$3-audio_\$1_\$2
;
#X text 215 256 -maxsize 120 SEG. A 44100 hz;
#X text 121 178 LOOP DE LEITURA DOS ÁUDIOS;
#X text 241 519 QUANDO TERMINA A LEITURA DOS ARQUIVOS;
#X text 83 648 LIGA FASE MASTER;
#X obj 245 718 s \$0-changeReset;
#X obj 68 25 r \$1-sceneBus;
#X text 159 25 ROTA PARA CONTROLES DA ABERTURA DE CENAS, f 20;
#X obj 238 586 s \$0-done;
#X obj 68 44 route scene;
#X obj 229 624 s \$1-sceneBus_set;
#X msg 229 605 done;
#X obj 581 222 t b f f;
#X obj 630 251 s \$0-rootBpm;
#N canvas 2 53 709 260 WAVEFORMS 0;
#X text 118 23 ** ABSTRAÇÕES QUE ENVIAM DADOS PARA DESENHO DA FORMA
DE ONDA NA INTERFACE, f 73;
#X obj 43 64 bit_waveform \$1 \$0 0 0;
#X obj 43 83 bit_waveform \$1 \$0 0 1;
#X obj 43 102 bit_waveform \$1 \$0 0 2;
#X obj 43 121 bit_waveform \$1 \$0 0 3;
#X obj 43 140 bit_waveform \$1 \$0 0 4;
#X obj 43 159 bit_waveform \$1 \$0 0 5;
#X obj 43 178 bit_waveform \$1 \$0 0 6;
#X obj 43 197 bit_waveform \$1 \$0 0 7;
#X obj 200 64 bit_waveform \$1 \$0 1 0;
#X obj 200 83 bit_waveform \$1 \$0 1 1;
#X obj 200 102 bit_waveform \$1 \$0 1 2;
#X obj 200 121 bit_waveform \$1 \$0 1 3;
#X obj 200 140 bit_waveform \$1 \$0 1 4;
#X obj 200 159 bit_waveform \$1 \$0 1 5;
#X obj 200 178 bit_waveform \$1 \$0 1 6;
#X obj 200 197 bit_waveform \$1 \$0 1 7;
#X obj 357 64 bit_waveform \$1 \$0 2 0;
#X obj 357 83 bit_waveform \$1 \$0 2 1;
#X obj 357 102 bit_waveform \$1 \$0 2 2;
#X obj 357 121 bit_waveform \$1 \$0 2 3;
#X obj 357 140 bit_waveform \$1 \$0 2 4;
#X obj 357 159 bit_waveform \$1 \$0 2 5;
#X obj 357 178 bit_waveform \$1 \$0 2 6;
#X obj 357 197 bit_waveform \$1 \$0 2 7;
#X obj 514 64 bit_waveform \$1 \$0 3 0;
#X obj 514 83 bit_waveform \$1 \$0 3 1;
#X obj 514 102 bit_waveform \$1 \$0 3 2;
#X obj 514 121 bit_waveform \$1 \$0 3 3;
#X obj 514 140 bit_waveform \$1 \$0 3 4;
#X obj 514 159 bit_waveform \$1 \$0 3 5;
#X obj 514 178 bit_waveform \$1 \$0 3 6;
#X obj 514 197 bit_waveform \$1 \$0 3 7;
#X restore 512 83 pd WAVEFORMS;
#X text 596 83 FORMAS DE ONDA;
#X obj 107 407 f;
#X obj 68 197 t f f f f f f;
#X obj 68 388 t b f b;
#X obj 107 426 s \$0-drawWave;
#X text 198 426 ENVIA COMANDO PARA DESENAR FORMA DE ONDA;
#X obj 47 540 del 10;
#X obj 198 557 t b b b b b;
#X text 243 742 REINICIA FILTROS LOCAIS DE REPETIÇÃO;
#X obj 546 500 text get \$0-meta;
#X text 655 500 LÊ SEGUNDA LINHA COM SEQUÊNCIA MASTER;
#X obj 68 112 t b b s s;
#X obj 531 147 t f f f f b;
#X text 689 461 DEPOIS DE LER DADOS DE BPM E DIVISÃO DELETA PRIMEIRA
LINHA, f 29;
#X obj 531 548 text delete \$0-meta;
#X text 658 548 DELETA SEGUNDA LINHA DEPOIS DE LER SEQUÊNCIA \, DEIXANDO
SÓ OS ÁUDIOS, f 34;
#X obj 546 519 s \$0-masterSeqOpen;
#X connect 0 0 20 0;
#X connect 0 1 1 0;
#X connect 1 0 20 0;
#X connect 2 0 4 0;
#X connect 2 1 3 0;
#X connect 3 0 4 1;
#X connect 4 0 5 0;
#X connect 4 0 101 0;
#X connect 5 0 4 1;
#X connect 6 0 4 0;
#X connect 7 0 25 3;
#X connect 8 0 30 0;
#X connect 9 0 10 0;
#X connect 10 0 102 0;
#X connect 11 0 105 0;
#X connect 13 0 18 0;
#X connect 14 0 11 1;
#X connect 14 1 13 0;
#X connect 16 0 17 0;
#X connect 18 0 106 0;
#X connect 19 0 9 1;
#X connect 22 0 25 0;
#X connect 23 0 25 1;
#X connect 24 0 16 0;
#X connect 25 0 84 0;
#X connect 28 0 14 0;
#X connect 30 0 9 0;
#X connect 34 0 35 0;
#X connect 35 0 15 0;
#X connect 35 0 0 0;
#X connect 40 0 39 0;
#X connect 41 0 106 0;
#X connect 43 0 42 0;
#X connect 45 0 110 0;
#X connect 48 0 54 0;
#X connect 49 0 111 0;
#X connect 50 0 7 0;
#X connect 54 0 57 0;
#X connect 54 1 62 0;
#X connect 55 0 56 0;
#X connect 56 0 68 0;
#X connect 57 0 96 0;
#X connect 58 0 60 0;
#X connect 59 0 63 0;
#X connect 60 0 66 0;
#X connect 62 0 65 0;
#X connect 63 0 58 1;
#X connect 64 0 60 1;
#X connect 68 0 72 0;
#X connect 68 1 67 0;
#X connect 68 2 58 0;
#X connect 71 0 73 0;
#X connect 72 0 69 0;
#X connect 73 0 72 0;
#X connect 73 1 72 1;
#X connect 84 0 8 0;
#X connect 90 0 93 0;
#X connect 93 0 45 0;
#X connect 95 0 94 0;
#X connect 96 0 55 0;
#X connect 96 1 56 1;
#X connect 96 2 97 0;
#X connect 100 0 103 0;
#X connect 101 0 22 0;
#X connect 101 1 23 0;
#X connect 101 2 50 0;
#X connect 101 3 12 1;
#X connect 101 4 28 0;
#X connect 101 5 100 1;
#X connect 102 0 11 0;
#X connect 102 1 12 0;
#X connect 102 2 100 0;
#X connect 105 0 6 0;
#X connect 106 0 40 0;
#X connect 106 1 31 0;
#X connect 106 2 92 0;
#X connect 106 2 95 0;
#X connect 106 3 89 0;
#X connect 106 4 34 0;
#X connect 108 0 115 0;
#X connect 110 0 2 0;
#X connect 110 1 49 0;
#X connect 110 2 43 0;
#X connect 110 3 25 4;
#X connect 111 0 113 0;
#X connect 111 1 108 0;
#X connect 111 2 75 0;
#X connect 111 3 48 0;
#X connect 111 4 59 0;
#X restore 316 60 pd LOAD_SCENE;
#X floatatom 478 42 5 0 0 0 - - -;
#N canvas 388 319 824 167 MULTIGRANULAR 0;
#X obj 63 87 outlet~;
#X obj 248 87 outlet~;
#X obj 433 87 outlet~;
#X obj 618 87 outlet~;
#X obj 63 48 bit_multigranular \$1 \$0 0;
#X obj 248 48 bit_multigranular \$1 \$0 1;
#X obj 433 48 bit_multigranular \$1 \$0 2;
#X obj 618 48 bit_multigranular \$1 \$0 3;
#X connect 4 0 0 0;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X connect 7 0 3 0;
#X restore 131 270 pd MULTIGRANULAR;
#X connect 0 0 12 0;
#X connect 2 0 20 0;
#X connect 2 0 7 0;
#X connect 2 0 8 0;
#X connect 2 0 10 0;
#X connect 3 0 2 0;
#X connect 6 0 4 0;
#X connect 6 1 4 1;
#X connect 7 0 11 1;
#X connect 8 0 11 2;
#X connect 9 0 18 0;
#X connect 10 0 11 3;
#X connect 11 1 6 0;
#X connect 12 0 14 0;
#X connect 13 0 1 0;
#X connect 14 0 16 0;
#X connect 15 0 14 0;
#X connect 16 0 11 4;
#X connect 16 1 6 2;
#X connect 17 0 3 0;
#X connect 18 0 2 1;
#X connect 20 0 11 0;
#X connect 22 0 21 0;
#X connect 24 0 21 1;
#X connect 25 0 11 0;
#X connect 25 1 11 1;
#X connect 25 2 11 2;
#X connect 25 3 11 3;
